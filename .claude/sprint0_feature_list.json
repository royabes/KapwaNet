{
  "sprint": 0,
  "name": "Foundation & Repo Setup",
  "description": "A running skeleton with deployment, no features yet. Docker Compose brings up all services cleanly.",
  "success_criteria": [
    "docker compose up brings all services up cleanly",
    "Django admin is reachable at /admin/",
    "Frontend loads at /",
    "Frontend can fetch test endpoint from backend",
    "No secrets committed to repo"
  ],
  "completed": true,
  "completed_at": "2025-12-28",
  "features": [
    {
      "id": "S0-A1",
      "epic": "S0-A",
      "category": "infrastructure",
      "description": "Create monorepo structure",
      "steps": [
        "Create apps/web directory for Next.js frontend",
        "Create apps/api directory for Django + Wagtail backend",
        "Create infra/ directory for Docker and nginx configs",
        "Create docs/ directory for documentation",
        "Create .gitignore covering Node, Python, and environment files",
        "Move existing docs from doc/plan to docs/plan"
      ],
      "passes": true,
      "acceptance_criteria": [
        "apps/web directory exists",
        "apps/api directory exists",
        "infra/ directory exists",
        "docs/ directory exists",
        ".gitignore exists and covers node_modules, __pycache__, .env, venv"
      ],
      "estimated_complexity": "low",
      "dependencies": []
    },
    {
      "id": "S0-A2",
      "epic": "S0-A",
      "category": "infrastructure",
      "description": "Docker Compose (dev & prod baseline)",
      "steps": [
        "Create infra/docker-compose.yml with services: web, api, db",
        "Configure PostgreSQL 15 with named volume for data persistence",
        "Add healthchecks for all services",
        "Create apps/web/Dockerfile for Next.js",
        "Create apps/api/Dockerfile for Django",
        "Test: docker compose up brings all services up"
      ],
      "passes": true,
      "acceptance_criteria": [
        "docker-compose.yml exists with web, api, db services",
        "Named volume for PostgreSQL data",
        "Healthchecks defined for each service",
        "docker compose up runs without errors",
        "All containers report healthy status"
      ],
      "estimated_complexity": "medium",
      "dependencies": ["S0-A1"]
    },
    {
      "id": "S0-A3",
      "epic": "S0-A",
      "category": "infrastructure",
      "description": "Environment configuration",
      "steps": [
        "Create .env.example with all required variables",
        "Document required environment variables",
        "Ensure .env is in .gitignore",
        "Create apps/web/.env.local.example",
        "Create apps/api/.env.example"
      ],
      "passes": true,
      "acceptance_criteria": [
        ".env.example exists in project root",
        ".env is in .gitignore",
        "New developer can boot locally using example env files",
        "No actual secrets in any committed files"
      ],
      "estimated_complexity": "low",
      "dependencies": ["S0-A1"]
    },
    {
      "id": "S0-B1",
      "epic": "S0-B",
      "category": "backend",
      "description": "Django project initialization",
      "steps": [
        "Create Django project in apps/api/",
        "Install Django REST Framework",
        "Install Wagtail CMS",
        "Create requirements.txt with all dependencies",
        "Configure basic Django settings",
        "Add CORS configuration for frontend"
      ],
      "passes": true,
      "acceptance_criteria": [
        "Django project structure exists in apps/api/",
        "requirements.txt includes Django, DRF, Wagtail, psycopg2",
        "Django server runs without errors",
        "Wagtail admin is reachable",
        "CORS headers configured for localhost:3000"
      ],
      "estimated_complexity": "medium",
      "dependencies": ["S0-A2"]
    },
    {
      "id": "S0-B2",
      "epic": "S0-B",
      "category": "backend",
      "description": "Auth baseline",
      "steps": [
        "Create custom User model with email login",
        "Install djangorestframework-simplejwt",
        "Configure JWT authentication",
        "Create superuser command/script",
        "Add token endpoints (/api/token/, /api/token/refresh/)"
      ],
      "passes": true,
      "acceptance_criteria": [
        "Custom User model uses email instead of username",
        "Admin can log in and access admin panel",
        "JWT token can be obtained via API",
        "Token refresh endpoint works",
        "Migrations run without errors"
      ],
      "estimated_complexity": "medium",
      "dependencies": ["S0-B1"]
    },
    {
      "id": "S0-C1",
      "epic": "S0-C",
      "category": "frontend",
      "description": "Next.js app scaffold",
      "steps": [
        "Initialize Next.js 14+ with App Router in apps/web/",
        "Configure TypeScript",
        "Add Tailwind CSS or base styling system",
        "Create basic layout with header/footer placeholders",
        "Create home page with placeholder content"
      ],
      "passes": true,
      "acceptance_criteria": [
        "Next.js project exists in apps/web/",
        "TypeScript configured",
        "Styling system in place (Tailwind or CSS modules)",
        "Frontend loads at http://localhost:3000/",
        "npm run dev works without errors"
      ],
      "estimated_complexity": "low",
      "dependencies": ["S0-A2"]
    },
    {
      "id": "S0-C2",
      "epic": "S0-C",
      "category": "frontend",
      "description": "API connectivity",
      "steps": [
        "Configure environment-based API URL",
        "Create API client utility in apps/web/src/lib/api.ts",
        "Add sample fetch from backend health endpoint",
        "Display API connection status on home page",
        "Handle API errors gracefully"
      ],
      "passes": true,
      "acceptance_criteria": [
        "NEXT_PUBLIC_API_URL configured in environment",
        "API client can fetch from Django backend",
        "Frontend displays data from backend",
        "Error handling shows user-friendly messages",
        "No CORS errors in browser console"
      ],
      "estimated_complexity": "low",
      "dependencies": ["S0-B1", "S0-C1"]
    }
  ]
}
